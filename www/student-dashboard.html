<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>mCompute</title>
    <link rel="shortcut icon" href="./favicon.ico">

    <!-- STYLES -->
    <link rel="stylesheet" href="./css/themes/default/jquery.mobile-1.4.5.min.css">
    <link rel="stylesheet" href="./_assets/css/jqm-demos.css">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:300,400,700">
    <link rel="stylesheet" href="./css/custom.css">

    <!-- SCRIPTS -->
	<script type="text/javascript" src="./js/jquery.js"></script>
    <script type="text/javascript" src="./_assets/js/index.js"></script>
    <script type="text/javascript" src="./js/jquery.mobile-1.4.5.min.js"></script>
    <script type="text/javascript" src="./js/jssor.slider.mini.js"></script>
    <script type="text/javascript" src="./js/custom.js"></script>


    <script type="text/javascript">
        var panel1 = '<div data-role="panel" data-display="push" data-theme="b" id="course-list"><ul data-role="listview"><li data-icon="home"><a href="#student-dashboard" data-rel="close">Overview</a></li><li data-icon="check"><a href="#cmpe235">CMPE 235</a></li><li data-icon="check"><a href="#cmpe285">CMPE 285</a></li><li data-icon="check"><a href="#cmpe295a">CMPE 295A</a></li><li data-icon="check"><a href="#cmpe295b">CMPE 295B</a></li></ul></div>';


        var panel2 = '<div data-role="panel" data-position="right" data-display="reveal" data-theme="a" id="user-menu"><ul data-role="listview"><li data-icon="home"><a href="#student-dashboard" data-rel="close">Overview</a></li><li data-icon="user"><a href="#account-settings">Account Settings</a></li><li data-icon="bullets"><a href="#">Notifications</a></li><li data-icon="info"><a href="#">Help</a></li><li data-icon="power"><a href="#">Logout</a></li></ul></div>';

        $(document).one('pagebeforecreate', function () {
            $.mobile.pageContainer.append(panel1);
            $.mobile.pageContainer.append(panel2);
            $("#course-list").panel().enhanceWithin();
            $("#user-menu").panel().enhanceWithin();

        });
        
                      function validateSubmitForm() {
                    var userMail = document.forms["changePasswordForm"]["userMail"].value;
                    var oldPassword = document.forms["changePasswordForm"]["oldPassword"].value;
                    var newPassword = document.forms["changePasswordForm"]["password"].value;
                    var rePassword = document.forms["changePasswordForm"]["confirmPassword"].value;

                    var dataString = 'name='+ userMail + '&password='+ oldPassword;
                    $.ajax({
                             type: "POST",
                             url: "https://cmpe235ipav-arjunshukla.c9users.io/backend/login.php",
                             data: dataString,
                             cache: false,
                             success: function(result){
                                 var result=trim(result);
                                 if(result == "ERROR") {
                                        $("#wrong-password-message").popup( "open" );  
                                 } else {
                                     if(newPassword == rePassword) {
                                         $.post('https://cmpe235ipav-arjunshukla.c9users.io/backend/updatePassword.php', {
                                          userMail: userMail,
                                          password: newPassword
                                        },
                                        function(data,status){
                                            if (data == "student") {
                                                 window.location = 'student-dashboard.html';
                                            } else {
                                                 window.location = 'professor-dashboard.html';
                                            }
                                        });
                                     }
                                }
                            }
                      });
    
                }
            
                
                 function trim(str){
                      var str=str.replace(/^\s+|\s+$/,'');
                      return str;
                    }
    </script>

</head>
<body>

<div data-role="page" class="jqm-demos ui-responsive-panel" id="student-dashboard" data-title="Student Dashboard">

    <div data-role="header">
        <h1>Student Dashboard</h1>
        <a href="#course-list"  data-icon="bars" data-iconpos="notext" >
            Menu
        </a>
        <a href="#user-menu" data-icon="gear" data-iconpos="notext" >
            Settings
        </a>

    </div><!-- /header -->
    

    <div role="main" style="padding: 0;" class="ui-content jqm-content jqm-fullwidth">
        <div class="card hovercard">
            <div class="cardheader">

            </div>
            <div class="avatar">
                <img alt="" src="http://lorempixel.com/100/100/people/9/">
            </div>
            <div class="info">
                <div class="title">
                    <a target="_blank" href="#">Jane Doe</a>
                </div>
                <div class="desc"><strong>Student ID :</strong> 0100XXXXX09</div>
                <div class="desc"><strong>E-Mail ID :</strong> v*******.d******@sjsu.edu</div>
                <div class="desc"><strong>Phone # :</strong> (6**)2**-8***</div>
            </div>
        </div>
            
	</div><!-- /content -->

</div><!-- /page -->




<div data-role="page" class="jqm-demos ui-responsive-panel" id="account-settings" data-title="Account Settings">

    <div data-role="header">
        <h1>Account Settings</h1>
        <a href="#professor-options"  data-icon="bars" data-iconpos="notext" >
            Menu
        </a>
        <a href="#user-menu" data-icon="gear" data-iconpos="notext" >
            Settings
        </a>

    </div><!-- /header -->

    <div role="main" class="ui-content jqm-content jqm-fullwidth">

        <h1 >Account Settings</h1>
        <hr/>
        
        <form id="changePasswordForm" method="post" action="https://cmpe235ipav-arjunshukla.c9users.io/backend/updatePassword.php" onsubmit="return validateSubmitForm()">
            <input type="hidden" id="userMail" name="userMail" value="vishwa.desai@sjsu.edu" />
            <table class="form-layout">
                <tr>
                     <td colspan="2" class="form-text-layout">
                        Old Password :
                        <input type="password" class="stored form-text" name="oldPassword" id="oldPassword" placeholder="Old Password" required/>
                    </td>
                </tr>
                <tr>
                    <td colspan="2" class="form-text-layout">
                        New Password :
                        <input type="password" class="stored form-text" name="password" id="password" placeholder="New Password" required/>
                    </td>
                </tr>
                <tr>
                    <td colspan="2" class="form-text-layout">
                        Confirm Password :
                        <input type="password" class="stored form-text" name="confirmPassword" id="confirmPassword" placeholder="Confirm Password" required/>
                    </td>
                </tr>
                <tr>
                    <td colspan="2" class="form-text-layout">
                        <input type="submit" id="submit" value="Save" />
                    </td>
                </tr>
            </table>
        </form>
        
    </div>
    
</div>


<div data-role="popup" id="wrong-password-message" data-dismissible="false" data-theme="a" style="max-width:400px;">
    <div role="main" class="ui-content">
        <h3 class="mc-text-danger">Incorrect Password</h3>
        <p>Please enter the correct password</p>
        <div class="mc-text-center"><a href="#" data-rel="back" class="ui-btn ui-corner-all ui-shadow ui-btn-b mc-top-margin-1-5">Close</a></div>
    </div>
</div>




<div data-role="page" class="jqm-demos ui-responsive-panel" id="cmpe235" data-title="CMPE 235">

    <div data-role="header">
        <h1>CMPE 235</h1>
        <a href="#course-list"  data-icon="bars" data-iconpos="notext" >
            Menu
        </a>
        <a href="#user-menu" data-icon="gear" data-iconpos="notext" >
            Settings
        </a>

    </div><!-- /header -->

    <div role="main" class="ui-content jqm-content jqm-fullwidth">

        <h1 id="about" >Course Details</h1>
        <hr/>
        <p><strong>Term :</strong> Spring 2016</p>
        <p><strong>Instructor :</strong> Richard Sinn</p>
        <p><strong>Description :</strong> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
        <p><strong>Grades :</strong> A</p>


    </div>

</div>





<div data-role="page" class="jqm-demos ui-responsive-panel" id="cmpe285" data-title="CMPE 285">

    <div data-role="header">
        <h1>CMPE 285</h1>
        <a href="#course-list"  data-icon="bars" data-iconpos="notext" >
            Menu
        </a>
        <a href="#user-menu" data-icon="gear" data-iconpos="notext" >
            Settings
        </a>

    </div><!-- /header -->

    <div role="main" class="ui-content jqm-content jqm-fullwidth">

        <h1 id="about" >Course Details</h1>
        <hr/>
        <p><strong>Term :</strong> Spring 2016</p>
        <p><strong>Instructor :</strong> Richard Sinn</p>
        <p><strong>Description :</strong> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
        <p><strong>Grades :</strong> A</p>

    </div>

</div>



<div data-role="page" class="jqm-demos ui-responsive-panel" id="cmpe295a" data-title="CMPE 295 A">

    <div data-role="header">
        <h1>CMPE 295 A</h1>
        <a href="#course-list"  data-icon="bars" data-iconpos="notext" >
            Menu
        </a>
        <a href="#user-menu" data-icon="gear" data-iconpos="notext" >
            Settings
        </a>

    </div><!-- /header -->

    <div role="main" class="ui-content jqm-content jqm-fullwidth">

        <h1 id="about" >Course Details</h1>
        <hr/>
        <p><strong>Term :</strong> Spring 2016</p>
        <p><strong>Instructor :</strong> Richard Sinn</p>
        <p><strong>Description :</strong> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
        <p><strong>Grades :</strong> A</p>        

    </div>

</div>




<div data-role="page" class="jqm-demos ui-responsive-panel" id="cmpe295b" data-title="CMPE 295 B">

    <div data-role="header">
        <h1>CMPE 295 B</h1>
        <a href="#course-list"  data-icon="bars" data-iconpos="notext" >
            Menu
        </a>
        <a href="#user-menu" data-icon="gear" data-iconpos="notext" >
            Settings
        </a>

    </div><!-- /header -->

    <div role="main" class="ui-content jqm-content jqm-fullwidth">

        <h1 id="about" >Course Details</h1>
        <hr/>
        <p><strong>Term :</strong> Spring 2016</p>
        <p><strong>Instructor :</strong> Richard Sinn</p>
        <p><strong>Description :</strong> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
        <p><strong>Grades :</strong> A</p>


    </div>

</div>

</body>
</html>
